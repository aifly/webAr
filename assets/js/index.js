webpackJsonp([0],[function(e,exports,t){try{(function(){"use strict";var e={init:function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;this.initWebgl(e,t),this.initWebRTC(e,t)},initWebgl:function(e,t){var n=new THREE.Scene,i=new THREE.WebGLRenderer({alpha:!0,antialias:!0});i.setPixelRatio(window.devicePixelRatio),i.setSize(e,t),i.setClearAlpha(0);var a=new THREE.PerspectiveCamera(45,e/t,.1,2e3);a.position.set(0,0,100),a.lookAt(n.position),n.add(a);for(var o=new THREE.Geometry,r=(new THREE.TextureLoader).load("./assets/images/disc.png"),s=0;s<40;s++){var d=new THREE.Vector3;d.x=200*Math.random()-100,d.y=200*Math.random()-100,d.z=200*Math.random()-100,o.vertices.push(d)}var c="#ffffff",h=new THREE.DirectionalLight(c);h.position.set(-40,60,-10),h.castShadow=!0,h.shadowCameraNear=2,h.shadowCameraFar=200,h.shadowCameraLeft=-50,h.shadowCameraRight=50,h.shadowCameraTop=50,h.shadowCameraBottom=-50,h.distance=0,h.intensity=.5,h.shadowMapHeight=1024,h.shadowMapWidth=1024,n.add(h);var p=new THREE.LoadingManager;p.onProgress=function(e,t,n){console.log(e,t,n)};var m=new THREE.OBJLoader(p),l=null;m.load("./assets/data/male02.obj",function(e){e.traverse(function(e){}),e.position.y=-36,e.scale.set(.4,.4,.4),l=e,n.add(e)});var v=new THREE.Clock,E=new THREE.TrackballControls(a);E.rotateSpeed=1,E.zoomSpeed=1,E.panSpeed=1,E.staticMoving=!0;o.vertices.forEach(function(e,t){var i=2*Math.random()+.7,a=new THREE.Points(o,new THREE.PointsMaterial({size:i,map:r,transparent:!0}));a.speedY=Math.random()+.1,a.speedX=Math.random()*(Math.random()-.5>0?1:-1),a.speedY=a.speedY.toFixed(2),a.speedX=a.speedX.toFixed(2),n.add(a)});var u=new THREE.PointLight(16777215,1,1e3);n.add(u);var w=new THREE.HemisphereLight(255,65280,.6);w.position.set(0,500,0),n.add(w),document.body.appendChild(i.domElement);var s=0,g=function e(){E.update(v.getDelta()),l&&(l.rotation.y+=.01),u.position.x=300*Math.sin(s*Math.PI/180),u.position.z=300*Math.cos(s*Math.PI/180),s+=.2,n.children.forEach(function(e,t){e instanceof THREE.Points&&(e.position.y<-70&&(e.position.y=70),e.position.x<-30&&(e.position.x=30),e.position.y-=e.speedY,e.position.x-=e.speedX)}),i.render(n,a),requestAnimationFrame(e)};g()},isAndroid:function e(){var e=!1;return/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)||/(Android)/gi.test(navigator.userAgent)&&(e=!0),e},initWebRTC:function(e,t){var n=document.querySelector("video"),i=this;navigator.getUserMedia&&navigator.mediaDevices.enumerateDevices().then(function(a){function o(e){e.getVideoTracks();e.oninactive=function(){console.log("Stream inactive")},window.stream=e,n.srcObject=e}function r(e){}var s={facingMode:"environment"};i.isAndroid()&&(s={facingMode:"environment",width:e,height:t});var d=window.constraints={audio:!1,video:s};navigator.mediaDevices.getUserMedia(d).then(o).catch(r)})}};e.init()}).call(this)}finally{}}]);