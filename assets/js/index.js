webpackJsonp([0],[function(e,exports,n){try{(function(){"use strict";var e={init:function(){this.initWebgl(),this.initWebRTC()},initEarth:function(){var e=new THREE.Mesh(new THREE.SphereGeometry(20,30,30),new THREE.MeshBasicMaterial({map:(new THREE.TextureLoader).load("./assets/images/earth.jpg")}));return e},initWebgl:function(){var e=document.documentElement.clientWidth,n=document.documentElement.clientHeight,t=new THREE.Scene,i=new THREE.WebGLRenderer({alpha:!0,antialias:!0});i.setSize(e,n),i.setClearAlpha(0);var a=new THREE.PerspectiveCamera(45,e/n,.1,2e3);a.position.set(0,0,100),a.lookAt(t.position),t.add(a);for(var o=new THREE.Geometry,r=(new THREE.TextureLoader).load("./assets/images/disc.png"),s=0;s<40;s++){var d=new THREE.Vector3;d.x=200*Math.random()-100,d.y=200*Math.random()-100,d.z=200*Math.random()-100,o.vertices.push(d)}var c="#ffffff",E=new THREE.DirectionalLight(c);E.position.set(-40,60,-10),t.add(E);var p=this.initEarth();t.add(p),console.log(p.geometry.parameters.radius);var l=new THREE.LoadingManager;l.onProgress=function(e,n,t){console.log(e,n,t)};var m=new THREE.OBJLoader(l),u=null;m.load("./assets/data/snowman.obj",function(e){e.traverse(function(e){}),e.position.y=-60,e.scale.set(.5,.5,.5),u=e,t.add(e)});var v=new THREE.Clock,h=new THREE.TrackballControls(a);h.rotateSpeed=1,h.zoomSpeed=1,h.panSpeed=1,h.staticMoving=!0;o.vertices.forEach(function(e,n){var i=2*Math.random()+.7,a=new THREE.Points(o,new THREE.PointsMaterial({size:i,map:r,transparent:!0}));a.speedY=Math.random()+.1,a.speedX=Math.random()*(Math.random()-.5>0?1:-1),a.speedY=a.speedY.toFixed(2),a.speedX=a.speedX.toFixed(2),t.add(a)});var f=new THREE.PointLight(16777215,1,1e3);t.add(f);var g=new THREE.HemisphereLight(255,65280,.6);g.position.set(0,500,0),t.add(g),document.body.appendChild(i.domElement);var s=0,T=function e(){h.update(v.getDelta()),u&&(u.rotation.y+=.01),p.rotation.x+=.001,p.rotation.y+=.01,s+=.2,t.children.forEach(function(e,n){e instanceof THREE.Points&&(e.position.y<-70&&(e.position.y=70),e.position.x<-30&&(e.position.x=30),e.position.y-=e.speedY,e.position.x-=e.speedX)}),i.render(t,a),requestAnimationFrame(e)};T()},isAndroid:function e(){var e=!1;return e=/(Android)/i.test(navigator.userAgent)},initWebRTC:function(){var e=document.querySelector("video");navigator.getUserMedia&&navigator.mediaDevices.enumerateDevices().then(function(n){function t(n){n.getVideoTracks();n.oninactive=function(){console.log("Stream inactive")},window.stream=n,e.srcObject=n}function i(e){}var a=window.constraints={audio:!1,video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(a).then(t).catch(i)})}};e.init()}).call(this)}finally{}}]);